:root{
    --bg-top:#e1f5fe;       /* 明るい水色 */
    --bg-bottom:#b3e5fc;    /* もう少し濃い水色 */
    --text:#333;
    --card-bg:#fff;
    --card-border:#ffeb3b;  /* イエロー */
    --accent:#ff9800;       /* 発射ボタン */
    --accent-2:#66bb6a;     /* 残り問題バー */
    --alert:#ef5350;        /* 残り時間バー */
    --panel:#fff8d9;        /* HUDバッジ背景(黄み) */
    --shadow: 0 8px 24px rgba(0,0,0,.10);
  }
  
  html,body{
    height:100%;
    margin:0;
    color:var(--text);
    font-family: "M PLUS Rounded 1c", "Noto Sans JP", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    background: linear-gradient(180deg, var(--bg-top), var(--bg-bottom));
  }
  
  /* 上部HUDがdiv群でもulでも、まとめて見やすく */
  [data-hud], .hud, header .status, .top-bar{
    display:flex;
    flex-wrap:wrap;
    gap:.5rem;
    padding:.6rem .8rem;
    align-items:center;
  }
  [data-hud] > * , .hud > *, header .status > *, .top-bar > *{
    background:var(--panel);
    padding:.35rem .65rem;
    border-radius:999px;
    font-weight:700;
    box-shadow: var(--shadow);
  }
  
  /* 問題カード（式のみ） */
  .problem-card, .question, .question-card{
    background:var(--card-bg);
    border:3px solid var(--card-border);
    border-radius:18px;
    padding:.8rem 1.1rem;
    font-size: clamp(18px, 3.4vw, 28px);
    font-weight:800;
    letter-spacing:.5px;
    display:inline-block;
    box-shadow: var(--shadow);
    transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    user-select:none;
  }
  .problem-card:hover,
  .question:hover,
  .question-card:hover{
    transform: translateY(-2px);
    box-shadow: 0 10px 28px rgba(0,0,0,.16);
    border-color:#ffe066;
  }
  .problem-card.is-active,
  .question.is-active,
  .question-card.is-active{
    border-color:#ffd000;
    transform: translateY(-3px) scale(1.02);
  }
  
  /* 回答パネル（下部中央寄せを想定） */
  #answer-panel, .answer-panel, footer .input, .bottom-input{
    position:fixed;
    left:50%;
    bottom:20px;
    transform:translateX(-50%);
    display:flex;
    gap:.6rem;
    align-items:center;
    background: rgba(255,255,255,.85);
    padding:.6rem .8rem;
    border-radius:16px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(4px);
  }
  #answer-panel input[type="text"],
  .answer-panel input[type="text"],
  .bottom-input input[type="text"]{
    min-width:min(60vw, 520px);
    font-size: clamp(18px, 2.6vw, 22px);
    padding:.6rem .8rem;
    border-radius:12px;
    border:2px solid #eee;
    outline:none;
  }
  #answer-panel input[type="text"]::placeholder{ color:#999; }
  
  /* 発射ボタン（ロケット） */
  #fire-btn, .fire-btn, button.launch, button.fire{
    font-size: clamp(16px, 2.2vw, 20px);
    font-weight:900;
    padding:.7rem 1rem;
    border:none;
    border-radius:999px;
    background: var(--accent);
    color:#fff;
    cursor:pointer;
    box-shadow: var(--shadow);
    transition: transform .08s ease, filter .08s ease;
  }
  #fire-btn:hover, .fire-btn:hover, button.launch:hover, button.fire:hover{
    transform: translateY(-1px);
    filter: brightness(1.04);
  }
  
  /* 進捗バー（ラベルを中に表示） */
  .progress, .remain-bar, .time-bar{
    position:relative;
    width: min(46vw, 560px);
    height: 14px;
    border-radius:999px;
    overflow:hidden;
    background:#fff;
    box-shadow: var(--shadow);
  }
  .progress > .fill, .remain-bar > .fill{ background:var(--accent-2); height:100%; }
  .time-bar > .fill{ background:var(--alert); height:100%; }
  .progress .label, .remain-bar .label, .time-bar .label{
    position:absolute; inset:0; display:flex; align-items:center; justify-content:center;
    font-size:12px; font-weight:800; color:#333;
  }
  
  /* モバイル余白 */
  @media (max-width: 640px){
    #answer-panel, .answer-panel, .bottom-input{
      bottom:12px;
      gap:.5rem;
    }
    #answer-panel input[type="text"]{
      min-width:min(78vw, 420px);
    }
  }
  